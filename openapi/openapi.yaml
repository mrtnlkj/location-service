---
openapi: "3.0.1"
info:
  title: "Location Service API"
  description: "Location service provides a REST API mainly for purposes of searching\
    \ localities across Slovak Republic based on GPS coordinates, with possibility\
    \ of extending searched area by other countries in the future."
  contact:
    url: "https://sk.linkedin.com/in/martin-lokaj-94a679154"
    email: "mrtn.lkj@gmail.com"
  license:
    name: "Licensed by Martin Lokaj"
  version: "1.0.0"
servers:
- url: "http://localhost"
  description: "Generated server url"
tags:
- name: "LocationController"
  description: "The main purpose of Location Controller is to provide operations with\
    \ location resources. It exposes API endpoints mainly used for searching locations\
    \ by many various ways."
- name: "UpdateController"
  description: "Update Controller provide operations with update resources. Mainly,\
    \ GET operations for listing previous updates, and POST operation for trigger\
    \ MANUAL UPDATE of location records or abort currently running update."
paths:
  /api/v1/updates:
    get:
      tags:
      - "UpdateController"
      summary: "1101 - Get update records"
      description: "Returns a update response including a list of the update records\
        \ and their count.  Possibility to filter results by specified query parameters."
      operationId: "getUpdateRecords"
      parameters:
      - name: "status"
        in: "query"
        required: false
        schema:
          type: "string"
          enum:
          - "RUNNING"
          - "FINISHED"
          - "FAILED"
        example: "FINISHED"
      - name: "type"
        in: "query"
        required: false
        schema:
          type: "string"
          enum:
          - "SCHEDULED"
          - "SCHEDULED_STARTUP"
          - "MANUAL"
        example: "MANUAL"
      - name: "url"
        in: "query"
        required: false
        schema:
          type: "string"
        example: "https://download.geofabrik.de/europe/slovakia-latest.osm.pbf"
      - name: "dateStartedFrom"
        in: "query"
        required: false
        schema:
          type: "string"
          format: "date-time"
        example: "2022-05-01T00:00:00Z"
      - name: "limit"
        in: "query"
        description: "Limit returned records by specifying number of items to skip\
          \ before returning the results."
        required: false
        schema:
          minimum: 1
          type: "integer"
          format: "int64"
        example: 10
      - name: "offset"
        in: "query"
        description: "Offset returned records by specified number of records to skip\
          \ before returning the results."
        required: false
        schema:
          minimum: 0
          type: "integer"
          format: "int64"
        example: 0
      responses:
        "400":
          description: "Bad request.\n List of possible error codes: <ul><li>LS0001\
            \ - Request is not valid</li></ul>"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
              examples:
                LS0001:
                  description: "LS0001"
                  value:
                    errorMessage:
                      referenceId: "70b2e0fc-c656-4d6d-9e3e-0a85f43c3b91"
                      message: "Constraint violation (cause: org.springframework.validation.BeanPropertyBindingResult:\
                        \ 1 errors\nField error in object 'updatesFilter' on field\
                        \ 'limit': rejected value [-5]; codes [Min.updatesFilter.limit,Min.limit,Min.java.lang.Long,Min];\
                        \ arguments [org.springframework.context.support.DefaultMessageSourceResolvable:\
                        \ codes [updatesFilter.limit,limit]; arguments []; default\
                        \ message [limit],1]; default message [must be greater than\
                        \ or equal to 1])"
                    businessExceptions:
                    - code: "LS0001"
                      message: "Constraint violation"
                    fieldValidations:
                    - field: "limit"
                      message: "must be greater than or equal to 1"
        "500":
          description: "Internal server error.\n List of possible error codes:<ul><li>LS0004\
            \ - PostgreSQL JDBC connection failure</li></ul>"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
              examples:
                LS0004:
                  description: "LS0004"
                  value:
                    errorMessage:
                      referenceId: "efee2335-7e32-4be8-bd3b-65f2d06b6970"
                      message: "PostgreSQL JDBC connection failure. (cause: Failed\
                        \ to obtain JDBC Connection; nested exception is org.postgresql.util.PSQLException:\
                        \ FATAL: database \"xyz\" does not exist)"
                    businessExceptions:
                    - code: "LS0004"
                      message: "PostgreSQL JDBC connection failure."
                    fieldValidations: []
        "200":
          description: "Success."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/GetUpdateRecordsResponse"
              examples:
                GetUpdateRecordsResponse:
                  description: "Updates found by search criteria"
                  value:
                    records:
                    - updateId: 11256
                      startedTime: "2022-04-05T19:10:17.155325Z"
                      finishedTime: "2022-04-05T19:51:40.327389Z"
                      dataDownloadUrl: "https://download.geofabrik.de/europe/slovakia-latest.osm.pbf"
                      status: "FINISHED"
                      trigger: "SCHEDULED_STARTUP_UPDATE"
                      description: null
                      failedReason: null
                    - updateId: 11255
                      startedTime: "2022-04-05T19:09:34.355455Z"
                      finishedTime: "2022-04-05T19:54:59.055674Z"
                      dataDownloadUrl: "https://download.geofabrik.de/europe/slovakia-latest.osm.pbf"
                      status: "FAILED"
                      trigger: "SCHEDULED_STARTUP_UPDATE"
                      description: null
                      failedReason: "Force kill stuck update - running more than 120\
                        \ minutes."
                    recordsCount: 2
                GetUpdateRecordsResponse - not found:
                  description: "No update records by search criteria was found"
                  value:
                    records: []
                    recordsCount: 0
    post:
      tags:
      - "UpdateController"
      summary: "1104 -  Endpoint that triggers manual update"
      description: "Performs a manual update of location data. This operation arranges\
        \ download of the OSM data file from specified server, import raw OSM data\
        \ to DB with osm2pgsql and prepare new version of location data."
      operationId: "manualUpdate"
      requestBody:
        description: "Optional request body that defines additional info to update."
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ManualUpdateRequest"
            examples:
              Manual update request with default settings.:
                description: "Manual update request with default settings."
                value:
                  url: null
                  description: "Trying to run manual update of locations data. Default\
                    \ data updater setting will be applied."
              Manual update request with specified custom url.:
                description: "Manual update request with specified custom url."
                value:
                  url: "https://download.geofabrik.de/europe/slovakia-latest.osm.pbf"
                  description: "Trying to run manual data update of locations data\
                    \ with specified custom URL for OSM data file download."
              Manual update request with skipping download.:
                description: "Manual update request with skipping download."
                value:
                  url: null
                  description: "Trying to run manual update of locations data. Skipping\
                    \ download and gives a file path."
                  skipDownload: true
                  filePath: "C:\\data\\location_service\\osm_data\\slovakia-latest.osm.pbf"
      responses:
        "500":
          description: "Internal server error.\n List of possible error codes:<ul><li>LS0004\
            \ - PostgreSQL JDBC connection failure</li></ul>"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
              examples:
                LS0004:
                  description: "LS0004"
                  value:
                    errorMessage:
                      referenceId: "efee2335-7e32-4be8-bd3b-65f2d06b6970"
                      message: "PostgreSQL JDBC connection failure. (cause: Failed\
                        \ to obtain JDBC Connection; nested exception is org.postgresql.util.PSQLException:\
                        \ FATAL: database \"xyz\" does not exist)"
                    businessExceptions:
                    - code: "LS0004"
                      message: "PostgreSQL JDBC connection failure."
                    fieldValidations: []
                LS0101:
                  description: "LS0101"
                  value:
                    errorMessage:
                      referenceId: "10b0c42b-58db-47e6-8f34-742881779ed9"
                      message: "Update is already in progress."
                    businessExceptions:
                    - code: "LS0101"
                      message: "Update is already in progress."
                    fieldValidations: []
        "201":
          description: "Created."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UpdateResponse"
              examples:
                Update record, response of processing manual update.:
                  description: "Update record, response of processing manual update."
                  value:
                    updateId: 1
                    startedTime: "2022-01-01T12:00:00.000Z"
                    finishedTime: null
                    dataDownloadUrl: "https://download.geofabrik.de/europe/slovakia-latest.osm.pbf"
                    status: "RUNNING"
                    trigger: "MANUAL_UPDATE"
                    description: "Trying to run manual update of locations data. Default\
                      \ data updater setting will be applied."
        "400":
          description: "Bad request.\n List of possible error codes: <ul><li>LS0001\
            \ - Request is not valid</li></ul>"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
              examples:
                LS0001:
                  description: "LS0001"
                  value:
                    errorMessage:
                      referenceId: "fc3510e1-f8b1-4131-ba78-b02178e83b40"
                      message: "Constraint violation (cause: Validation failed for\
                        \ argument [0] in public org.springframework.http.ResponseEntity<?>\
                        \ sk.uniza.locationservice.controller.UpdateController.manualUpdate(sk.uniza.locationservice.controller.bean.request.ManualUpdateRequest):\
                        \ [Field error in object 'manualUpdateRequest' on field 'url':\
                        \ rejected value [httpsinvalid]; codes [URL.manualUpdateRequest.url,URL.url,URL.java.lang.String,URL];\
                        \ arguments [org.springframework.context.support.DefaultMessageSourceResolvable:\
                        \ codes [manualUpdateRequest.url,url]; arguments []; default\
                        \ message [url],[Ljavax.validation.constraints.Pattern$Flag;@602a3c41,,-1,,.*];\
                        \ default message [must be a valid URL]] )"
                    businessExceptions:
                    - code: "LS0001"
                      message: "Constraint violation"
                    fieldValidations:
                    - field: "url"
                      message: "must be a valid URL"
  /api/v1/updates/{updateId}/abort:
    post:
      tags:
      - "UpdateController"
      summary: "1104 -  Endpoint that aborts running update"
      description: "Performs an abortion of running update of location data."
      operationId: "abortUpdate"
      parameters:
      - name: "updateId"
        in: "path"
        description: "Unique updateId identifier."
        required: true
        schema:
          type: "integer"
          format: "int64"
        example: 11256
      responses:
        "200":
          description: "Success."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UpdateResponse"
              examples:
                Update aborted.:
                  description: "Update aborted."
                  value:
                    value: true
        "500":
          description: "Internal server error.\n List of possible error codes:<ul><li>LS0004\
            \ - PostgreSQL JDBC connection failure</li></ul>"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
              examples:
                LS0004:
                  description: "LS0004"
                  value:
                    errorMessage:
                      referenceId: "efee2335-7e32-4be8-bd3b-65f2d06b6970"
                      message: "PostgreSQL JDBC connection failure. (cause: Failed\
                        \ to obtain JDBC Connection; nested exception is org.postgresql.util.PSQLException:\
                        \ FATAL: database \"xyz\" does not exist)"
                    businessExceptions:
                    - code: "LS0004"
                      message: "PostgreSQL JDBC connection failure."
                    fieldValidations: []
                LS0103:
                  description: "LS0103"
                  value:
                    errorMessage:
                      referenceId: "0e6f390c-7f6c-48b8-aab0-8a653d6b5920"
                      message: "Requested update is not IN PROGRESS, unable to abort."
                    businessExceptions:
                    - code: "LS0103"
                      message: "Requested update is not IN PROGRESS, unable to abort."
                    fieldValidations: []
  /api/v1/updates/{updateId}:
    get:
      tags:
      - "UpdateController"
      summary: "1102 - Get update record by id"
      description: "Returns a single update record for specified unique identifier\
        \ - updateId, response extended by update step details."
      operationId: "getUpdateRecordById"
      parameters:
      - name: "updateId"
        in: "path"
        description: "Unique updateId identifier."
        required: true
        schema:
          type: "integer"
          format: "int64"
        example: "11256"
      responses:
        "400":
          description: "Bad request.\n List of possible error codes: <ul><li>LS0001\
            \ - Request is not valid</li></ul>"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
              examples:
                LS0001:
                  description: "LS0001"
                  value:
                    errorMessage:
                      referenceId: "5dcc4e1e-1ba6-4d83-a429-c1a44711594a"
                      message: "Constraint violation (cause: Failed to convert value\
                        \ of type 'java.lang.String' to required type 'java.lang.Long';\
                        \ nested exception is java.lang.NumberFormatException: For\
                        \ input string: \"sfasf\")"
                    businessExceptions:
                    - code: "LS0001"
                      message: "Constraint violation"
                    fieldValidations:
                    - field: "locationId"
                      message: "Failed to convert value of type 'java.lang.String'\
                        \ to required type 'java.lang.Long'; nested exception is java.lang.NumberFormatException:\
                        \ For input string: \"sfasf\""
        "500":
          description: "Internal server error.\n List of possible error codes:<ul><li>LS0004\
            \ - PostgreSQL JDBC connection failure</li></ul>"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
              examples:
                LS0004:
                  description: "LS0004"
                  value:
                    errorMessage:
                      referenceId: "efee2335-7e32-4be8-bd3b-65f2d06b6970"
                      message: "PostgreSQL JDBC connection failure. (cause: Failed\
                        \ to obtain JDBC Connection; nested exception is org.postgresql.util.PSQLException:\
                        \ FATAL: database \"xyz\" does not exist)"
                    businessExceptions:
                    - code: "LS0004"
                      message: "PostgreSQL JDBC connection failure."
                    fieldValidations: []
        "200":
          description: "Success."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UpdateResponse"
              examples:
                UpdateResponse:
                  description: "Update by specified id"
                  value: "{\n  \"updateId\": 11256,\n  \"startedTime\": \"2022-04-05T19:10:17.155325Z\"\
                    ,\n  \"finishedTime\": \"2022-04-05T19:51:40.327389Z\",\n  \"\
                    dataDownloadUrl\": \"\"https://download.geofabrik.de/europe/slovakia-latest.osm.pbf\"\
                    \",\n  \"status\": \"FINISHED\",\n  \"trigger\": \"SCHEDULED_STARTUP_UPDATE\"\
                    ,\n  \"description\": null,\n  \"failedReason\": null\n}"
  /api/v1/updates/latest:
    get:
      tags:
      - "UpdateController"
      summary: "1103 - Get latest update"
      description: "Returns latest update record"
      operationId: "getLatestUpdateRecord"
      responses:
        "200":
          description: "Success."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UpdateResponse"
              examples:
                UpdateResponse:
                  description: "Latest available update"
                  value: "{\n  \"updateId\": 11256,\n  \"startedTime\": \"2022-04-05T19:10:17.155325Z\"\
                    ,\n  \"finishedTime\": \"2022-04-05T19:51:40.327389Z\",\n  \"\
                    dataDownloadUrl\": \"\"https://download.geofabrik.de/europe/slovakia-latest.osm.pbf\"\
                    \",\n  \"status\": \"FINISHED\",\n  \"trigger\": \"SCHEDULED_STARTUP_UPDATE\"\
                    ,\n  \"description\": null,\n  \"failedReason\": null\n}"
        "500":
          description: "Internal server error.\n List of possible error codes:<ul><li>LS0004\
            \ - PostgreSQL JDBC connection failure</li></ul>"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
              examples:
                LS0004:
                  description: "LS0004"
                  value:
                    errorMessage:
                      referenceId: "efee2335-7e32-4be8-bd3b-65f2d06b6970"
                      message: "PostgreSQL JDBC connection failure. (cause: Failed\
                        \ to obtain JDBC Connection; nested exception is org.postgresql.util.PSQLException:\
                        \ FATAL: database \"xyz\" does not exist)"
                    businessExceptions:
                    - code: "LS0004"
                      message: "PostgreSQL JDBC connection failure."
                    fieldValidations: []
  /api/v1/locations:
    get:
      tags:
      - "LocationController"
      summary: "1001 - Get locations"
      description: "Returns a location response including a list of the locations\
        \ and their count with the possibility to filter results by refining search\
        \ criteria with query parameters. Locations are sorted by field **nameSk**\
        \ in ascending order."
      operationId: "getLocations"
      parameters:
      - name: "locationId"
        in: "query"
        description: "Query only location object with specified unique identification\
          \ parameter."
        required: false
        schema:
          type: "integer"
          format: "int64"
        example: 11256
      - name: "nameSk"
        in: "query"
        description: "Filter locations by specified location name in Slovak language."
        required: false
        schema:
          type: "string"
        example: "Å½ilina"
      - name: "nameEn"
        in: "query"
        description: "Filter locations by specified location name in English language."
        required: false
        schema:
          type: "string"
        example: "Zilina"
      - name: "areaFrom"
        in: "query"
        description: "Query only locations that have area greater than specified **areaFrom**\
          \ parameter in squared meters. Can be combined with **areaTo**."
        required: false
        schema:
          type: "number"
        example: 120.0
      - name: "areaTo"
        in: "query"
        description: "Query only locations that have area smaller than specified **areaTo**\
          \ parameter in squared meters. Can be combined with **areaFrom**."
        required: false
        schema:
          type: "number"
        example: 150.0
      - name: "type"
        in: "query"
        description: "Query only locations with specified **type**  parameter."
        required: false
        schema:
          type: "string"
          enum:
          - "CITY"
          - "TOWN"
          - "VILLAGE"
          - "UNKNOWN"
        example: "CITY"
      - name: "postalCode"
        in: "query"
        description: "Filter locations by specified postal code of the location."
        required: false
        schema:
          type: "string"
        example: "036 01"
      - name: "lat"
        in: "query"
        description: "Query only locations that include latitude of the given GPS\
          \ coordinate."
        required: false
        schema:
          type: "number"
        example: 49.20586596333355
      - name: "lon"
        in: "query"
        description: "Query only locations that include longitude of a given GPS coordinate."
        required: false
        schema:
          type: "number"
        example: 18.762886535806317
      - name: "embedGeoJson"
        in: "query"
        description: "If set to **true**, locations will include a GeoJson with location\
          \ boundary."
        required: false
        schema:
          type: "boolean"
        example: false
      - name: "limit"
        in: "query"
        description: "Limit returned records by specifying number of items to skip\
          \ before returning the results."
        required: false
        schema:
          minimum: 1
          type: "integer"
          format: "int64"
        example: 10
      - name: "offset"
        in: "query"
        description: "Offset returned records by specified number of records to skip\
          \ before returning the results."
        required: false
        schema:
          minimum: 0
          type: "integer"
          format: "int64"
        example: 0
      responses:
        "200":
          description: "Success."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/GetLocationsResponse"
              examples:
                GetLocationsResponse:
                  description: "Locations found by search criteria"
                  value:
                    records:
                    - locationId: 36689
                      versionId: 149847
                      nameSk: "Ã\x81belovÃ¡"
                      nameEn: null
                      area: 52.18
                      population: 231
                      districtNameSk: null
                      districtNameEn: null
                      regionNameSk: null
                      regionNameEn: null
                      stateNameSk: "Slovensko"
                      stateNameEn: "Slovakia"
                      isIn: "StrednÃ© Slovensko"
                      postalCode: "985 13"
                      type: "VILLAGE"
                      lat: 48.4107111
                      lon: 19.4324517
                      boundary: null
                    - locationId: 36690
                      versionId: 149847
                      nameSk: "Abovce"
                      nameEn: null
                      area: 8.16
                      population: 617
                      districtNameSk: null
                      districtNameEn: null
                      regionNameSk: null
                      regionNameEn: null
                      stateNameSk: "Slovensko"
                      stateNameEn: "Slovakia"
                      isIn: "StrednÃ© Slovensko"
                      postalCode: "980 44"
                      type: "VILLAGE"
                      lat: 48.3192231
                      lon: 20.3376889
                      boundary: null
                    - locationId: 36691
                      versionId: 149847
                      nameSk: "AbrahÃ¡m"
                      nameEn: null
                      area: 15.79
                      population: 1078
                      districtNameSk: null
                      districtNameEn: null
                      regionNameSk: null
                      regionNameEn: null
                      stateNameSk: "Slovensko"
                      stateNameEn: "Slovakia"
                      isIn: "ZÃ¡padnÃ© Slovensko"
                      postalCode: "925 45"
                      type: "VILLAGE"
                      lat: 48.2479831
                      lon: 17.6194193
                      boundary: null
                    - locationId: 36692
                      versionId: 149847
                      nameSk: "AbrahÃ¡movce"
                      nameEn: null
                      area: 5.9
                      population: null
                      districtNameSk: null
                      districtNameEn: null
                      regionNameSk: null
                      regionNameEn: null
                      stateNameSk: "Slovensko"
                      stateNameEn: "Slovakia"
                      isIn: "VÃ½chodnÃ© Slovensko"
                      postalCode: "086 41"
                      type: "VILLAGE"
                      lat: 49.1616223
                      lon: 21.3426096
                      boundary: null
                    - locationId: 36693
                      versionId: 149847
                      nameSk: "AbrahÃ¡movce"
                      nameEn: null
                      area: 6.65
                      population: null
                      districtNameSk: null
                      districtNameEn: null
                      regionNameSk: null
                      regionNameEn: null
                      stateNameSk: "Slovensko"
                      stateNameEn: "Slovakia"
                      isIn: "VÃ½chodnÃ© Slovensko"
                      postalCode: "059 72"
                      type: "VILLAGE"
                      lat: 49.0438759
                      lon: 20.4416395
                      boundary: null
                    recordsCount: 2815
                GetLocationsResponse - not found:
                  description: "No locations by search criteria was found"
                  value:
                    records: []
                    recordsCount: 0
        "400":
          description: "Bad request.\n List of possible error codes: <ul><li>LS0001\
            \ - Request is not valid</li></ul>"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
              examples:
                LS0001:
                  description: "LS0001"
                  value:
                    errorMessage:
                      referenceId: "70b2e0fc-c656-4d6d-9e3e-0a85f43c3b91"
                      message: "Constraint violation (cause: org.springframework.validation.BeanPropertyBindingResult:\
                        \ 1 errors\nField error in object 'locationsFilter' on field\
                        \ 'limit': rejected value [-5]; codes [Min.locationsFilter.limit,Min.limit,Min.java.lang.Long,Min];\
                        \ arguments [org.springframework.context.support.DefaultMessageSourceResolvable:\
                        \ codes [locationsFilter.limit,limit]; arguments []; default\
                        \ message [limit],1]; default message [must be greater than\
                        \ or equal to 1])"
                    businessExceptions:
                    - code: "LS0001"
                      message: "Constraint violation"
                    fieldValidations:
                    - field: "limit"
                      message: "must be greater than or equal to 1"
        "500":
          description: "Internal server error.\n List of possible error codes:<ul><li>LS0004\
            \ - PostgreSQL JDBC connection failure</li></ul>"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
              examples:
                LS0004:
                  description: "LS0004"
                  value:
                    errorMessage:
                      referenceId: "efee2335-7e32-4be8-bd3b-65f2d06b6970"
                      message: "PostgreSQL JDBC connection failure. (cause: Failed\
                        \ to obtain JDBC Connection; nested exception is org.postgresql.util.PSQLException:\
                        \ FATAL: database \"xyz\" does not exist)"
                    businessExceptions:
                    - code: "LS0004"
                      message: "PostgreSQL JDBC connection failure."
                    fieldValidations: []
  /api/v1/locations/{locationId}:
    get:
      tags:
      - "LocationController"
      summary: "1002 - Get location by id"
      description: "Returns a single location for specified unique identifier - locationId,\
        \ response extended by GeoJson boundary string."
      operationId: "getLocationById"
      parameters:
      - name: "locationId"
        in: "path"
        description: "Unique locationId identifier."
        required: true
        schema:
          type: "integer"
          format: "int64"
        example: "11256"
      - name: "embedGeoJson"
        in: "query"
        description: "If set to **true**, response will include a GeoJson with location\
          \ boundary."
        required: false
        schema:
          type: "boolean"
        example: false
      responses:
        "400":
          description: "Bad request.\n List of possible error codes: <ul><li>LS0001\
            \ - Request is not valid</li></ul>"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
              examples:
                LS0004:
                  description: "LS0004"
                  value:
                    errorMessage:
                      referenceId: "5dcc4e1e-1ba6-4d83-a429-c1a44711594a"
                      message: "Constraint violation (cause: Failed to convert value\
                        \ of type 'java.lang.String' to required type 'java.lang.Long';\
                        \ nested exception is java.lang.NumberFormatException: For\
                        \ input string: \"sfasf\")"
                    businessExceptions:
                    - code: "LS0001"
                      message: "Constraint violation"
                    fieldValidations:
                    - field: "locationId"
                      message: "Failed to convert value of type 'java.lang.String'\
                        \ to required type 'java.lang.Long'; nested exception is java.lang.NumberFormatException:\
                        \ For input string: \"sfasf\""
        "500":
          description: "Internal server error.\n List of possible error codes:<ul><li>LS0004\
            \ - PostgreSQL JDBC connection failure</li></ul>"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
              examples:
                LS0004:
                  description: "LS0004"
                  value:
                    errorMessage:
                      referenceId: "efee2335-7e32-4be8-bd3b-65f2d06b6970"
                      message: "PostgreSQL JDBC connection failure. (cause: Failed\
                        \ to obtain JDBC Connection; nested exception is org.postgresql.util.PSQLException:\
                        \ FATAL: database \"xyz\" does not exist)"
                    businessExceptions:
                    - code: "LS0004"
                      message: "PostgreSQL JDBC connection failure."
                    fieldValidations: []
        "200":
          description: "Success."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/LocationResponse"
              examples:
                LocationResponse:
                  description: "Location by specified id"
                  value:
                    locationId: 123
                    versionId: 1
                    nameSk: "BoÄ\x8diar"
                    nameEn: null
                    area: 0.47
                    population: 222
                    districtNameSk: "okres KoÅ¡ice - okolie"
                    districtNameEn: "District of KoÅ¡ice - okolie"
                    regionNameSk: "KoÅ¡ickÃ½ kraj"
                    regionNameEn: "Region of KoÅ¡ice"
                    stateNameSk: "Slovensko"
                    stateNameEn: "Slovakia"
                    isIn: "VÃ½chodnÃ© Slovensko"
                    postalCode: "044 57"
                    type: "VILLAGE"
                    lat: 48.5920569
                    lon: 21.2353988
                    boundary: null
                LocationResponse with embedded GeoJson:
                  description: "Location by specified id with embedded GeoJson"
                  value: "{\n  \"locationId\": 123,\n  \"versionId\": 1,\n  \"nameSk\"\
                    : \"BoÄ\x8diar\",\n  \"nameEn\": 'null',\n  \"area\": 0.47,\n\
                    \  \"population\": 222,\n  \"districtNameSk\": \"okres KoÅ¡ice\
                    \ - okolie\",\n  \"districtNameEn\": \"District of KoÅ¡ice - okolie\"\
                    ,\n  \"regionNameSk\": \"KoÅ¡ickÃ½ kraj\",\n  \"regionNameEn\"\
                    : \"Region of KoÅ¡ice\",\n  \"stateNameSk\": \"Slovensko\",\n\
                    \  \"stateNameEn\": \"Slovakia\",\n  \"isIn\": \"VÃ½chodnÃ© Slovensko\"\
                    ,\n  \"postalCode\": \"044 57\",\n  \"type\": \"VILLAGE\",\n \
                    \ \"lat\": 48.5920569,\n  \"lon\": 21.2353988,\n  \"boundary\"\
                    : {\n    \"type\": \"Polygon\",\n    \"coordinates\": [\n    \
                    \  [\n        [\n          21.2312014,\n          48.5978542\n\
                    \        ],\n        [\n          21.231215,\n          48.5978345\n\
                    \        ],\n        [\n          21.231518,\n          48.597396\n\
                    \        ],\n        [\n          21.232066,\n          48.596558\n\
                    \        ],\n        [\n          21.232831,\n          48.595421\n\
                    \        ],\n        [\n          21.232435,\n          48.595373\n\
                    \        ],\n        [\n          21.232011,\n          48.595317\n\
                    \        ],\n        [\n          21.231995,\n          48.595314\n\
                    \        ],\n        [\n          21.231858,\n          48.595288\n\
                    \        ],\n        [\n          21.231828,\n          48.595282\n\
                    \        ],\n        [\n          21.231902,\n          48.595052\n\
                    \        ],\n        [\n          21.232214,\n          48.594085\n\
                    \        ],\n        [\n          21.232833,\n          48.592165\n\
                    \        ],\n        [\n          21.233196,\n          48.591073\n\
                    \        ],\n        [\n          21.23319,\n          48.590907\n\
                    \        ],\n        [\n          21.233185,\n          48.590765\n\
                    \        ],\n        [\n          21.23318,\n          48.59063\n\
                    \        ],\n        [\n          21.23318,\n          48.590589\n\
                    \        ],\n        [\n          21.234381,\n          48.590767\n\
                    \        ],\n        [\n          21.234421,\n          48.590685\n\
                    \        ],\n        [\n          21.234972,\n          48.589558\n\
                    \        ],\n        [\n          21.235182,\n          48.589127\n\
                    \        ],\n        [\n          21.235215,\n          48.589063\n\
                    \        ],\n        [\n          21.235878,\n          48.589163\n\
                    \        ],\n        [\n          21.236091,\n          48.589196\n\
                    \        ],\n        [\n          21.236167,\n          48.588769\n\
                    \        ],\n        [\n          21.236364,\n          48.58767\n\
                    \        ],\n        [\n          21.236567,\n          48.586606\n\
                    \        ],\n        [\n          21.23675,\n          48.585511\n\
                    \        ],\n        [\n          21.236642,\n          48.585207\n\
                    \        ],\n        [\n          21.2406394,\n          48.5860558\n\
                    \        ],\n        [\n          21.2405614,\n          48.586113\n\
                    \        ],\n        [\n          21.2405122,\n          48.5863964\n\
                    \        ],\n        [\n          21.2407991,\n          48.5865775\n\
                    \        ],\n        [\n          21.2409028,\n          48.5867248\n\
                    \        ],\n        [\n          21.2407754,\n          48.5867973\n\
                    \        ],\n        [\n          21.2404288,\n          48.5867325\n\
                    \        ],\n        [\n          21.2403382,\n          48.5867612\n\
                    \        ],\n        [\n          21.2403301,\n          48.5870367\n\
                    \        ],\n        [\n          21.2399715,\n          48.5873833\n\
                    \        ],\n        [\n          21.2399854,\n          48.5874424\n\
                    \        ],\n        [\n          21.2402315,\n          48.5874558\n\
                    \        ],\n        [\n          21.2404281,\n          48.5876564\n\
                    \        ],\n        [\n          21.2397554,\n          48.5877739\n\
                    \        ],\n        [\n          21.2394504,\n          48.5877746\n\
                    \        ],\n        [\n          21.2393401,\n          48.5878365\n\
                    \        ],\n        [\n          21.2393286,\n          48.5879036\n\
                    \        ],\n        [\n          21.239419,\n          48.5880517\n\
                    \        ],\n        [\n          21.2393896,\n          48.5881519\n\
                    \        ],\n        [\n          21.2390552,\n          48.5882755\n\
                    \        ],\n        [\n          21.2387792,\n          48.5881622\n\
                    \        ],\n        [\n          21.2385335,\n          48.5883087\n\
                    \        ],\n        [\n          21.2385338,\n          48.5886915\n\
                    \        ],\n        [\n          21.238769,\n          48.5887932\n\
                    \        ],\n        [\n          21.2389723,\n          48.5890056\n\
                    \        ],\n        [\n          21.2388043,\n          48.5891737\n\
                    \        ],\n        [\n          21.2384571,\n          48.5892327\n\
                    \        ],\n        [\n          21.2383763,\n          48.5896465\n\
                    \        ],\n        [\n          21.2388115,\n          48.5903083\n\
                    \        ],\n        [\n          21.2388611,\n          48.5905271\n\
                    \        ],\n        [\n          21.23906,\n          48.5906594\n\
                    \        ],\n        [\n          21.2390676,\n          48.5907486\n\
                    \        ],\n        [\n          21.2388654,\n          48.5909133\n\
                    \        ],\n        [\n          21.2390198,\n          48.5910631\n\
                    \        ],\n        [\n          21.2387901,\n          48.5912045\n\
                    \        ],\n        [\n          21.2382567,\n          48.5911058\n\
                    \        ],\n        [\n          21.2380345,\n          48.5911956\n\
                    \        ],\n        [\n          21.2379952,\n          48.5912845\n\
                    \        ],\n        [\n          21.2380501,\n          48.5914079\n\
                    \        ],\n        [\n          21.2383543,\n          48.5916053\n\
                    \        ],\n        [\n          21.2382105,\n          48.5918494\n\
                    \        ],\n        [\n          21.2384536,\n          48.5919999\n\
                    \        ],\n        [\n          21.2385405,\n          48.5921986\n\
                    \        ],\n        [\n          21.2386276,\n          48.5922147\n\
                    \        ],\n        [\n          21.2386548,\n          48.5923021\n\
                    \        ],\n        [\n          21.2385233,\n          48.5922768\n\
                    \        ],\n        [\n          21.2383353,\n          48.5923554\n\
                    \        ],\n        [\n          21.2382761,\n          48.592529\n\
                    \        ],\n        [\n          21.2381524,\n          48.5925443\n\
                    \        ],\n        [\n          21.2380479,\n          48.5924736\n\
                    \        ],\n        [\n          21.2378835,\n          48.5924651\n\
                    \        ],\n        [\n          21.2374867,\n          48.5926372\n\
                    \        ],\n        [\n          21.2373515,\n          48.5926443\n\
                    \        ],\n        [\n          21.2372745,\n          48.5927117\n\
                    \        ],\n        [\n          21.2374673,\n          48.5931229\n\
                    \        ],\n        [\n          21.2375794,\n          48.5936778\n\
                    \        ],\n        [\n          21.2380804,\n          48.5940941\n\
                    \        ],\n        [\n          21.2380305,\n          48.5942826\n\
                    \        ],\n        [\n          21.2381968,\n          48.5943283\n\
                    \        ],\n        [\n          21.2383187,\n          48.5944548\n\
                    \        ],\n        [\n          21.2385102,\n          48.5945114\n\
                    \        ],\n        [\n          21.2385501,\n          48.5945813\n\
                    \        ],\n        [\n          21.2384851,\n          48.5949868\n\
                    \        ],\n        [\n          21.2383998,\n          48.5951924\n\
                    \        ],\n        [\n          21.2379019,\n          48.5954863\n\
                    \        ],\n        [\n          21.237748,\n          48.59546\n\
                    \        ],\n        [\n          21.2375175,\n          48.5952255\n\
                    \        ],\n        [\n          21.2373054,\n          48.5952234\n\
                    \        ],\n        [\n          21.2370008,\n          48.5953434\n\
                    \        ],\n        [\n          21.2369214,\n          48.5954456\n\
                    \        ],\n        [\n          21.236641,\n          48.5955888\n\
                    \        ],\n        [\n          21.2363188,\n          48.5957014\n\
                    \        ],\n        [\n          21.2362504,\n          48.595607\n\
                    \        ],\n        [\n          21.2363883,\n          48.5955427\n\
                    \        ],\n        [\n          21.236143,\n          48.5954518\n\
                    \        ],\n        [\n          21.2360011,\n          48.5955936\n\
                    \        ],\n        [\n          21.2358729,\n          48.5956269\n\
                    \        ],\n        [\n          21.2359283,\n          48.5957175\n\
                    \        ],\n        [\n          21.2357806,\n          48.5958096\n\
                    \        ],\n        [\n          21.2359672,\n          48.5959562\n\
                    \        ],\n        [\n          21.2358245,\n          48.5960586\n\
                    \        ],\n        [\n          21.2358369,\n          48.5962153\n\
                    \        ],\n        [\n          21.2356938,\n          48.5962875\n\
                    \        ],\n        [\n          21.235638,\n          48.5966492\n\
                    \        ],\n        [\n          21.2355375,\n          48.5967329\n\
                    \        ],\n        [\n          21.235752,\n          48.5969568\n\
                    \        ],\n        [\n          21.235282,\n          48.597318\n\
                    \        ],\n        [\n          21.235294,\n          48.5973701\n\
                    \        ],\n        [\n          21.2354097,\n          48.5974131\n\
                    \        ],\n        [\n          21.2354976,\n          48.5976026\n\
                    \        ],\n        [\n          21.2356284,\n          48.5976383\n\
                    \        ],\n        [\n          21.2356691,\n          48.5977869\n\
                    \        ],\n        [\n          21.2357904,\n          48.5979112\n\
                    \        ],\n        [\n          21.2359066,\n          48.5983334\n\
                    \        ],\n        [\n          21.2361313,\n          48.5986859\n\
                    \        ],\n        [\n          21.2361545,\n          48.5988397\n\
                    \        ],\n        [\n          21.236032,\n          48.598863\n\
                    \        ],\n        [\n          21.2359798,\n          48.5992439\n\
                    \        ],\n        [\n          21.2348075,\n          48.5988676\n\
                    \        ],\n        [\n          21.2335944,\n          48.5986552\n\
                    \        ],\n        [\n          21.2332815,\n          48.5986759\n\
                    \        ],\n        [\n          21.2330128,\n          48.5984086\n\
                    \        ],\n        [\n          21.2329897,\n          48.598444\n\
                    \        ],\n        [\n          21.2327537,\n          48.5983293\n\
                    \        ],\n        [\n          21.2313126,\n          48.5978882\n\
                    \        ],\n        [\n          21.2313241,\n          48.5978675\n\
                    \        ],\n        [\n          21.2312014,\n          48.5978542\n\
                    \        ]\n      ]\n    ]\n  }\n}"
  /api/v1/locations/{locationId}/gps-coords-occurrence:
    get:
      tags:
      - "LocationController"
      summary: "1003 - GPS coordinates occurrence"
      description: "Endpoint verifies whether the given GPS coordinates occurs in\
        \ specified location and returns appropriate response."
      operationId: "gpsCoordsOccurrenceWithinLocation"
      parameters:
      - name: "locationId"
        in: "path"
        description: "Unique locationId identifier."
        required: true
        schema:
          type: "integer"
          format: "int64"
        example: 11256
      - name: "lat"
        in: "query"
        description: "Latitude of the given GPS coordinate."
        required: true
        schema:
          type: "number"
        example: 49.20586596333355
      - name: "lon"
        in: "query"
        description: "Longitude of a given GPS coordinate."
        required: true
        schema:
          type: "number"
        example: 18.762886535806317
      responses:
        "400":
          description: "Bad request.\n List of possible error codes: <ul><li>LS0001\
            \ - Request is not valid</li></ul>"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
              examples:
                LS0001:
                  description: "LS0001"
                  value:
                    errorMessage:
                      referenceId: "f22a73a1-412a-470d-a8fe-ca31430e07a0"
                      message: "Constraint violation (cause: org.springframework.validation.BeanPropertyBindingResult:\
                        \ 1 errors\nField error in object 'coordinatesFilter' on field\
                        \ 'lat': rejected value [200]; codes [Range.coordinatesFilter.lat,Range.lat,Range.java.math.BigDecimal,Range];\
                        \ arguments [org.springframework.context.support.DefaultMessageSourceResolvable:\
                        \ codes [coordinatesFilter.lat,lat]; arguments []; default\
                        \ message [lat],90,-90]; default message [must be between\
                        \ -90 and 90])"
                    businessExceptions:
                    - code: "LS0001"
                      message: "Constraint violation"
                    fieldValidations:
                    - field: "lat"
                      message: "must be between -90 and 90"
        "200":
          description: "Success."
          content:
            application/json:
              schema:
                type: "boolean"
              examples:
                Example response - occurrence found:
                  description: "GPS coordinates occur in given location"
                  value:
                    value: true
                Example response - occurrence not found:
                  description: "GPS coordinates does not occur in given location"
                  value:
                    value: false
        "500":
          description: "Internal server error.\n List of possible error codes:<ul><li>LS0004\
            \ - PostgreSQL JDBC connection failure</li></ul>"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
              examples:
                LS0004:
                  description: "LS0004"
                  value:
                    errorMessage:
                      referenceId: "efee2335-7e32-4be8-bd3b-65f2d06b6970"
                      message: "PostgreSQL JDBC connection failure. (cause: Failed\
                        \ to obtain JDBC Connection; nested exception is org.postgresql.util.PSQLException:\
                        \ FATAL: database \"xyz\" does not exist)"
                    businessExceptions:
                    - code: "LS0004"
                      message: "PostgreSQL JDBC connection failure."
                    fieldValidations: []
  /api/v1/locations/within-distance:
    get:
      tags:
      - "LocationController"
      summary: "1004 - Get locations within specified distance from given GPS coordinates."
      description: "Returns a location response defining list of the locations and\
        \ locations count, sorted by field nameSk in ascending order which meets the\
        \ search criteria."
      operationId: "getLocationsWithinSpecifiedDistance"
      parameters:
      - name: "distance"
        in: "query"
        description: "Distance [m]"
        required: true
        schema:
          minimum: 0
          type: "number"
        example: 100.0
      - name: "lat"
        in: "query"
        description: "Latitude of the given GPS coordinate."
        required: true
        schema:
          type: "number"
        example: 49.20586596333355
      - name: "lon"
        in: "query"
        description: "Longitude of a given GPS coordinate."
        required: true
        schema:
          type: "number"
        example: 18.762886535806317
      - name: "limit"
        in: "query"
        description: "Limit returned records by specifying number of items to skip\
          \ before returning the results."
        required: false
        schema:
          minimum: 1
          type: "integer"
          format: "int64"
        example: 10
      - name: "offset"
        in: "query"
        description: "Offset returned records by specified number of records to skip\
          \ before returning the results."
        required: false
        schema:
          minimum: 0
          type: "integer"
          format: "int64"
        example: 0
      - name: "embedGeoJson"
        in: "query"
        description: "If set to **true**, response will include a GeoJson with location\
          \ boundary."
        required: false
        schema:
          type: "boolean"
        example: false
      responses:
        "200":
          description: "Success."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/GetLocationsResponse"
              examples:
                GetLocationsResponse:
                  description: "Locations found by search criteria"
                  value:
                    records:
                    - locationId: 36689
                      versionId: 149847
                      nameSk: "Ã\x81belovÃ¡"
                      nameEn: null
                      area: 52.18
                      population: 231
                      districtNameSk: null
                      districtNameEn: null
                      regionNameSk: null
                      regionNameEn: null
                      stateNameSk: "Slovensko"
                      stateNameEn: "Slovakia"
                      isIn: "StrednÃ© Slovensko"
                      postalCode: "985 13"
                      type: "VILLAGE"
                      lat: 48.4107111
                      lon: 19.4324517
                      boundary: null
                    - locationId: 36690
                      versionId: 149847
                      nameSk: "Abovce"
                      nameEn: null
                      area: 8.16
                      population: 617
                      districtNameSk: null
                      districtNameEn: null
                      regionNameSk: null
                      regionNameEn: null
                      stateNameSk: "Slovensko"
                      stateNameEn: "Slovakia"
                      isIn: "StrednÃ© Slovensko"
                      postalCode: "980 44"
                      type: "VILLAGE"
                      lat: 48.3192231
                      lon: 20.3376889
                      boundary: null
                    - locationId: 36691
                      versionId: 149847
                      nameSk: "AbrahÃ¡m"
                      nameEn: null
                      area: 15.79
                      population: 1078
                      districtNameSk: null
                      districtNameEn: null
                      regionNameSk: null
                      regionNameEn: null
                      stateNameSk: "Slovensko"
                      stateNameEn: "Slovakia"
                      isIn: "ZÃ¡padnÃ© Slovensko"
                      postalCode: "925 45"
                      type: "VILLAGE"
                      lat: 48.2479831
                      lon: 17.6194193
                      boundary: null
                    - locationId: 36692
                      versionId: 149847
                      nameSk: "AbrahÃ¡movce"
                      nameEn: null
                      area: 5.9
                      population: null
                      districtNameSk: null
                      districtNameEn: null
                      regionNameSk: null
                      regionNameEn: null
                      stateNameSk: "Slovensko"
                      stateNameEn: "Slovakia"
                      isIn: "VÃ½chodnÃ© Slovensko"
                      postalCode: "086 41"
                      type: "VILLAGE"
                      lat: 49.1616223
                      lon: 21.3426096
                      boundary: null
                    - locationId: 36693
                      versionId: 149847
                      nameSk: "AbrahÃ¡movce"
                      nameEn: null
                      area: 6.65
                      population: null
                      districtNameSk: null
                      districtNameEn: null
                      regionNameSk: null
                      regionNameEn: null
                      stateNameSk: "Slovensko"
                      stateNameEn: "Slovakia"
                      isIn: "VÃ½chodnÃ© Slovensko"
                      postalCode: "059 72"
                      type: "VILLAGE"
                      lat: 49.0438759
                      lon: 20.4416395
                      boundary: null
                    recordsCount: 2815
                GetLocationsResponse - not found:
                  description: "No locations by search criteria was found"
                  value:
                    records: []
                    recordsCount: 0
        "400":
          description: "Bad request.\n List of possible error codes: <ul><li>LS0001\
            \ - Request is not valid</li></ul>"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
              examples:
                LS0001:
                  description: "LS0001"
                  value:
                    errorMessage:
                      referenceId: "f22a73a1-412a-470d-a8fe-ca31430e07a0"
                      message: "Constraint violation (cause: org.springframework.validation.BeanPropertyBindingResult:\
                        \ 1 errors\nField error in object 'coordinatesFilter' on field\
                        \ 'lat': rejected value [200]; codes [Range.coordinatesFilter.lat,Range.lat,Range.java.math.BigDecimal,Range];\
                        \ arguments [org.springframework.context.support.DefaultMessageSourceResolvable:\
                        \ codes [coordinatesFilter.lat,lat]; arguments []; default\
                        \ message [lat],90,-90]; default message [must be between\
                        \ -90 and 90])"
                    businessExceptions:
                    - code: "LS0001"
                      message: "Constraint violation"
                    fieldValidations:
                    - field: "lat"
                      message: "must be between -90 and 90"
        "500":
          description: "Internal server error.\n List of possible error codes:<ul><li>LS0004\
            \ - PostgreSQL JDBC connection failure</li></ul>"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
              examples:
                LS0004:
                  description: "LS0004"
                  value:
                    errorMessage:
                      referenceId: "efee2335-7e32-4be8-bd3b-65f2d06b6970"
                      message: "PostgreSQL JDBC connection failure. (cause: Failed\
                        \ to obtain JDBC Connection; nested exception is org.postgresql.util.PSQLException:\
                        \ FATAL: database \"xyz\" does not exist)"
                    businessExceptions:
                    - code: "LS0004"
                      message: "PostgreSQL JDBC connection failure."
                    fieldValidations: []
  /api/v1/locations/nearest-by-gps-coords:
    get:
      tags:
      - "LocationController"
      summary: "1005 - Get nearest location by GPS coordinates"
      description: "Returns a single location that is the nearest to the specified\
        \ GPS coordinates."
      operationId: "getNearestLocation"
      parameters:
      - name: "lat"
        in: "query"
        description: "Latitude of the given GPS coordinate."
        required: true
        schema:
          type: "number"
        example: 49.20586596333355
      - name: "lon"
        in: "query"
        description: "Longitude of a given GPS coordinate."
        required: true
        schema:
          type: "number"
        example: 18.762886535806317
      - name: "embedGeoJson"
        in: "query"
        description: "If set to **true**, response will include a GeoJson with location\
          \ boundary."
        required: false
        schema:
          type: "boolean"
        example: false
      responses:
        "400":
          description: "Bad request.\n List of possible error codes: <ul><li>LS0001\
            \ - Request is not valid</li></ul>"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
              examples:
                LS0001:
                  description: "LS0001"
                  value:
                    errorMessage:
                      referenceId: "f22a73a1-412a-470d-a8fe-ca31430e07a0"
                      message: "Constraint violation (cause: org.springframework.validation.BeanPropertyBindingResult:\
                        \ 1 errors\nField error in object 'coordinatesFilter' on field\
                        \ 'lat': rejected value [200]; codes [Range.coordinatesFilter.lat,Range.lat,Range.java.math.BigDecimal,Range];\
                        \ arguments [org.springframework.context.support.DefaultMessageSourceResolvable:\
                        \ codes [coordinatesFilter.lat,lat]; arguments []; default\
                        \ message [lat],90,-90]; default message [must be between\
                        \ -90 and 90])"
                    businessExceptions:
                    - code: "LS0001"
                      message: "Constraint violation"
                    fieldValidations:
                    - field: "lat"
                      message: "must be between -90 and 90"
        "200":
          description: "Success."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/LocationResponse"
              examples:
                LocationResponse:
                  description: "Location nearest to the specified GPS coordinates"
                  value:
                    locationId: 123
                    versionId: 1
                    nameSk: "BoÄ\x8diar"
                    nameEn: null
                    area: 0.47
                    population: 222
                    districtNameSk: "okres KoÅ¡ice - okolie"
                    districtNameEn: "District of KoÅ¡ice - okolie"
                    regionNameSk: "KoÅ¡ickÃ½ kraj"
                    regionNameEn: "Region of KoÅ¡ice"
                    stateNameSk: "Slovensko"
                    stateNameEn: "Slovakia"
                    isIn: "VÃ½chodnÃ© Slovensko"
                    postalCode: "044 57"
                    type: "VILLAGE"
                    lat: 48.5920569
                    lon: 21.2353988
                    boundary: null
                LocationResponse with embedded GeoJson:
                  description: "Location nearest to the specified GPS coordinates\
                    \ including embedded GeoJson"
                  value: "{\n  \"locationId\": 123,\n  \"versionId\": 1,\n  \"nameSk\"\
                    : \"BoÄ\x8diar\",\n  \"nameEn\": 'null',\n  \"area\": 0.47,\n\
                    \  \"population\": 222,\n  \"districtNameSk\": \"okres KoÅ¡ice\
                    \ - okolie\",\n  \"districtNameEn\": \"District of KoÅ¡ice - okolie\"\
                    ,\n  \"regionNameSk\": \"KoÅ¡ickÃ½ kraj\",\n  \"regionNameEn\"\
                    : \"Region of KoÅ¡ice\",\n  \"stateNameSk\": \"Slovensko\",\n\
                    \  \"stateNameEn\": \"Slovakia\",\n  \"isIn\": \"VÃ½chodnÃ© Slovensko\"\
                    ,\n  \"postalCode\": \"044 57\",\n  \"type\": \"VILLAGE\",\n \
                    \ \"lat\": 48.5920569,\n  \"lon\": 21.2353988,\n  \"boundary\"\
                    : {\n    \"type\": \"Polygon\",\n    \"coordinates\": [\n    \
                    \  [\n        [\n          21.2312014,\n          48.5978542\n\
                    \        ],\n        [\n          21.231215,\n          48.5978345\n\
                    \        ],\n        [\n          21.231518,\n          48.597396\n\
                    \        ],\n        [\n          21.232066,\n          48.596558\n\
                    \        ],\n        [\n          21.232831,\n          48.595421\n\
                    \        ],\n        [\n          21.232435,\n          48.595373\n\
                    \        ],\n        [\n          21.232011,\n          48.595317\n\
                    \        ],\n        [\n          21.231995,\n          48.595314\n\
                    \        ],\n        [\n          21.231858,\n          48.595288\n\
                    \        ],\n        [\n          21.231828,\n          48.595282\n\
                    \        ],\n        [\n          21.231902,\n          48.595052\n\
                    \        ],\n        [\n          21.232214,\n          48.594085\n\
                    \        ],\n        [\n          21.232833,\n          48.592165\n\
                    \        ],\n        [\n          21.233196,\n          48.591073\n\
                    \        ],\n        [\n          21.23319,\n          48.590907\n\
                    \        ],\n        [\n          21.233185,\n          48.590765\n\
                    \        ],\n        [\n          21.23318,\n          48.59063\n\
                    \        ],\n        [\n          21.23318,\n          48.590589\n\
                    \        ],\n        [\n          21.234381,\n          48.590767\n\
                    \        ],\n        [\n          21.234421,\n          48.590685\n\
                    \        ],\n        [\n          21.234972,\n          48.589558\n\
                    \        ],\n        [\n          21.235182,\n          48.589127\n\
                    \        ],\n        [\n          21.235215,\n          48.589063\n\
                    \        ],\n        [\n          21.235878,\n          48.589163\n\
                    \        ],\n        [\n          21.236091,\n          48.589196\n\
                    \        ],\n        [\n          21.236167,\n          48.588769\n\
                    \        ],\n        [\n          21.236364,\n          48.58767\n\
                    \        ],\n        [\n          21.236567,\n          48.586606\n\
                    \        ],\n        [\n          21.23675,\n          48.585511\n\
                    \        ],\n        [\n          21.236642,\n          48.585207\n\
                    \        ],\n        [\n          21.2406394,\n          48.5860558\n\
                    \        ],\n        [\n          21.2405614,\n          48.586113\n\
                    \        ],\n        [\n          21.2405122,\n          48.5863964\n\
                    \        ],\n        [\n          21.2407991,\n          48.5865775\n\
                    \        ],\n        [\n          21.2409028,\n          48.5867248\n\
                    \        ],\n        [\n          21.2407754,\n          48.5867973\n\
                    \        ],\n        [\n          21.2404288,\n          48.5867325\n\
                    \        ],\n        [\n          21.2403382,\n          48.5867612\n\
                    \        ],\n        [\n          21.2403301,\n          48.5870367\n\
                    \        ],\n        [\n          21.2399715,\n          48.5873833\n\
                    \        ],\n        [\n          21.2399854,\n          48.5874424\n\
                    \        ],\n        [\n          21.2402315,\n          48.5874558\n\
                    \        ],\n        [\n          21.2404281,\n          48.5876564\n\
                    \        ],\n        [\n          21.2397554,\n          48.5877739\n\
                    \        ],\n        [\n          21.2394504,\n          48.5877746\n\
                    \        ],\n        [\n          21.2393401,\n          48.5878365\n\
                    \        ],\n        [\n          21.2393286,\n          48.5879036\n\
                    \        ],\n        [\n          21.239419,\n          48.5880517\n\
                    \        ],\n        [\n          21.2393896,\n          48.5881519\n\
                    \        ],\n        [\n          21.2390552,\n          48.5882755\n\
                    \        ],\n        [\n          21.2387792,\n          48.5881622\n\
                    \        ],\n        [\n          21.2385335,\n          48.5883087\n\
                    \        ],\n        [\n          21.2385338,\n          48.5886915\n\
                    \        ],\n        [\n          21.238769,\n          48.5887932\n\
                    \        ],\n        [\n          21.2389723,\n          48.5890056\n\
                    \        ],\n        [\n          21.2388043,\n          48.5891737\n\
                    \        ],\n        [\n          21.2384571,\n          48.5892327\n\
                    \        ],\n        [\n          21.2383763,\n          48.5896465\n\
                    \        ],\n        [\n          21.2388115,\n          48.5903083\n\
                    \        ],\n        [\n          21.2388611,\n          48.5905271\n\
                    \        ],\n        [\n          21.23906,\n          48.5906594\n\
                    \        ],\n        [\n          21.2390676,\n          48.5907486\n\
                    \        ],\n        [\n          21.2388654,\n          48.5909133\n\
                    \        ],\n        [\n          21.2390198,\n          48.5910631\n\
                    \        ],\n        [\n          21.2387901,\n          48.5912045\n\
                    \        ],\n        [\n          21.2382567,\n          48.5911058\n\
                    \        ],\n        [\n          21.2380345,\n          48.5911956\n\
                    \        ],\n        [\n          21.2379952,\n          48.5912845\n\
                    \        ],\n        [\n          21.2380501,\n          48.5914079\n\
                    \        ],\n        [\n          21.2383543,\n          48.5916053\n\
                    \        ],\n        [\n          21.2382105,\n          48.5918494\n\
                    \        ],\n        [\n          21.2384536,\n          48.5919999\n\
                    \        ],\n        [\n          21.2385405,\n          48.5921986\n\
                    \        ],\n        [\n          21.2386276,\n          48.5922147\n\
                    \        ],\n        [\n          21.2386548,\n          48.5923021\n\
                    \        ],\n        [\n          21.2385233,\n          48.5922768\n\
                    \        ],\n        [\n          21.2383353,\n          48.5923554\n\
                    \        ],\n        [\n          21.2382761,\n          48.592529\n\
                    \        ],\n        [\n          21.2381524,\n          48.5925443\n\
                    \        ],\n        [\n          21.2380479,\n          48.5924736\n\
                    \        ],\n        [\n          21.2378835,\n          48.5924651\n\
                    \        ],\n        [\n          21.2374867,\n          48.5926372\n\
                    \        ],\n        [\n          21.2373515,\n          48.5926443\n\
                    \        ],\n        [\n          21.2372745,\n          48.5927117\n\
                    \        ],\n        [\n          21.2374673,\n          48.5931229\n\
                    \        ],\n        [\n          21.2375794,\n          48.5936778\n\
                    \        ],\n        [\n          21.2380804,\n          48.5940941\n\
                    \        ],\n        [\n          21.2380305,\n          48.5942826\n\
                    \        ],\n        [\n          21.2381968,\n          48.5943283\n\
                    \        ],\n        [\n          21.2383187,\n          48.5944548\n\
                    \        ],\n        [\n          21.2385102,\n          48.5945114\n\
                    \        ],\n        [\n          21.2385501,\n          48.5945813\n\
                    \        ],\n        [\n          21.2384851,\n          48.5949868\n\
                    \        ],\n        [\n          21.2383998,\n          48.5951924\n\
                    \        ],\n        [\n          21.2379019,\n          48.5954863\n\
                    \        ],\n        [\n          21.237748,\n          48.59546\n\
                    \        ],\n        [\n          21.2375175,\n          48.5952255\n\
                    \        ],\n        [\n          21.2373054,\n          48.5952234\n\
                    \        ],\n        [\n          21.2370008,\n          48.5953434\n\
                    \        ],\n        [\n          21.2369214,\n          48.5954456\n\
                    \        ],\n        [\n          21.236641,\n          48.5955888\n\
                    \        ],\n        [\n          21.2363188,\n          48.5957014\n\
                    \        ],\n        [\n          21.2362504,\n          48.595607\n\
                    \        ],\n        [\n          21.2363883,\n          48.5955427\n\
                    \        ],\n        [\n          21.236143,\n          48.5954518\n\
                    \        ],\n        [\n          21.2360011,\n          48.5955936\n\
                    \        ],\n        [\n          21.2358729,\n          48.5956269\n\
                    \        ],\n        [\n          21.2359283,\n          48.5957175\n\
                    \        ],\n        [\n          21.2357806,\n          48.5958096\n\
                    \        ],\n        [\n          21.2359672,\n          48.5959562\n\
                    \        ],\n        [\n          21.2358245,\n          48.5960586\n\
                    \        ],\n        [\n          21.2358369,\n          48.5962153\n\
                    \        ],\n        [\n          21.2356938,\n          48.5962875\n\
                    \        ],\n        [\n          21.235638,\n          48.5966492\n\
                    \        ],\n        [\n          21.2355375,\n          48.5967329\n\
                    \        ],\n        [\n          21.235752,\n          48.5969568\n\
                    \        ],\n        [\n          21.235282,\n          48.597318\n\
                    \        ],\n        [\n          21.235294,\n          48.5973701\n\
                    \        ],\n        [\n          21.2354097,\n          48.5974131\n\
                    \        ],\n        [\n          21.2354976,\n          48.5976026\n\
                    \        ],\n        [\n          21.2356284,\n          48.5976383\n\
                    \        ],\n        [\n          21.2356691,\n          48.5977869\n\
                    \        ],\n        [\n          21.2357904,\n          48.5979112\n\
                    \        ],\n        [\n          21.2359066,\n          48.5983334\n\
                    \        ],\n        [\n          21.2361313,\n          48.5986859\n\
                    \        ],\n        [\n          21.2361545,\n          48.5988397\n\
                    \        ],\n        [\n          21.236032,\n          48.598863\n\
                    \        ],\n        [\n          21.2359798,\n          48.5992439\n\
                    \        ],\n        [\n          21.2348075,\n          48.5988676\n\
                    \        ],\n        [\n          21.2335944,\n          48.5986552\n\
                    \        ],\n        [\n          21.2332815,\n          48.5986759\n\
                    \        ],\n        [\n          21.2330128,\n          48.5984086\n\
                    \        ],\n        [\n          21.2329897,\n          48.598444\n\
                    \        ],\n        [\n          21.2327537,\n          48.5983293\n\
                    \        ],\n        [\n          21.2313126,\n          48.5978882\n\
                    \        ],\n        [\n          21.2313241,\n          48.5978675\n\
                    \        ],\n        [\n          21.2312014,\n          48.5978542\n\
                    \        ]\n      ]\n    ]\n  }\n}"
        "500":
          description: "Internal server error.\n List of possible error codes:<ul><li>LS0004\
            \ - PostgreSQL JDBC connection failure</li></ul>"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
              examples:
                LS0004:
                  description: "LS0004"
                  value:
                    errorMessage:
                      referenceId: "efee2335-7e32-4be8-bd3b-65f2d06b6970"
                      message: "PostgreSQL JDBC connection failure. (cause: Failed\
                        \ to obtain JDBC Connection; nested exception is org.postgresql.util.PSQLException:\
                        \ FATAL: database \"xyz\" does not exist)"
                    businessExceptions:
                    - code: "LS0004"
                      message: "PostgreSQL JDBC connection failure."
                    fieldValidations: []
components:
  schemas:
    ManualUpdateRequest:
      type: "object"
      properties:
        url:
          type: "string"
          format: "url"
        filePath:
          type: "string"
        description:
          type: "string"
    BusinessException:
      type: "object"
      properties:
        code:
          type: "string"
          example: "LSXXXX"
        message:
          type: "string"
          example: "Error message"
    ErrorMessage:
      type: "object"
      properties:
        referenceId:
          type: "string"
          example: "5153c9b9-151d-47e5-93ef-a67ac8663163"
        message:
          type: "string"
          example: "Error message (cause: Cause of this error if available)"
    ErrorResponse:
      required:
      - "businessExceptions"
      - "errorMessage"
      - "fieldValidations"
      type: "object"
      properties:
        errorMessage:
          $ref: "#/components/schemas/ErrorMessage"
        businessExceptions:
          type: "array"
          items:
            $ref: "#/components/schemas/BusinessException"
        fieldValidations:
          type: "array"
          items:
            $ref: "#/components/schemas/FieldValidation"
    FieldValidation:
      type: "object"
      properties:
        field:
          type: "string"
          example: "Field name"
        message:
          type: "string"
          example: "Reason why field validation failed"
    UpdateProcessingTaskResponse:
      type: "object"
      properties:
        processingTaskId:
          type: "integer"
          format: "int64"
        startedTime:
          type: "string"
          format: "date-time"
        finishedTime:
          type: "string"
          format: "date-time"
        status:
          type: "string"
          enum:
          - "RUNNING"
          - "FINISHED"
          - "FAILED"
        taskCode:
          type: "string"
          enum:
          - "OSM_FILE_LOAD"
          - "OSM2PGSQL_IMPORT"
          - "INCREMENT_LOCATION_VERSION"
          - "LOCATIONS_IMPORT"
          - "PROCESS_STATE_NAMES"
          - "PROCESS_STATE_NAMES_HELPER"
          - "PROCESS_REGION_NAMES"
          - "PROCESS_DISTRICT_NAMES"
          - "VALIDATE_LOCATION_VERSION"
          - "FINAL_CLEANUP"
        updateId:
          type: "integer"
          format: "int64"
        attempt:
          type: "integer"
          format: "int64"
    UpdateResponse:
      type: "object"
      properties:
        updateId:
          type: "integer"
          format: "int64"
        startedTime:
          type: "string"
          format: "date-time"
        finishedTime:
          type: "string"
          format: "date-time"
        dataDownloadUrl:
          type: "string"
        status:
          type: "string"
          enum:
          - "RUNNING"
          - "FINISHED"
          - "FAILED"
        type:
          type: "string"
          enum:
          - "SCHEDULED"
          - "SCHEDULED_STARTUP"
          - "MANUAL"
        description:
          type: "string"
        failedReason:
          type: "string"
        tasks:
          type: "array"
          items:
            $ref: "#/components/schemas/UpdateProcessingTaskResponse"
    GetUpdateRecordsResponse:
      type: "object"
      properties:
        records:
          type: "array"
          description: "List of all available requested records."
          items:
            $ref: "#/components/schemas/UpdateResponse"
        recordsCount:
          type: "integer"
          description: "Total count of available requested records."
          format: "int64"
          example: 543
    GetLocationsResponse:
      type: "object"
      properties:
        records:
          type: "array"
          description: "List of all available requested records."
          items:
            $ref: "#/components/schemas/LocationResponse"
        recordsCount:
          type: "integer"
          description: "Total count of available requested records."
          format: "int64"
          example: 543
    LocationResponse:
      type: "object"
      properties:
        locationId:
          type: "integer"
          format: "int64"
        versionId:
          type: "integer"
          format: "int64"
        nameSk:
          type: "string"
        nameEn:
          type: "string"
        area:
          type: "number"
        population:
          type: "integer"
          format: "int64"
        districtNameSk:
          type: "string"
        districtNameEn:
          type: "string"
        regionNameSk:
          type: "string"
        regionNameEn:
          type: "string"
        stateNameSk:
          type: "string"
        stateNameEn:
          type: "string"
        isIn:
          type: "string"
        postalCode:
          type: "string"
        type:
          type: "string"
          enum:
          - "CITY"
          - "TOWN"
          - "VILLAGE"
          - "UNKNOWN"
        lat:
          type: "number"
        lon:
          type: "number"
        boundary:
          type: "string"
